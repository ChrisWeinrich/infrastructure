---
- name: Verify OpenWrt connectivity and baseline checks
  hosts: openwrt
  gather_facts: false
  vars:
    # Verify only the configured UCI files.
    uci_files: "{{ openwrt_uci_files | default([]) }}"
    network_config_path: "{{ playbook_dir }}/../configs/network.yml"
  tasks:
    - name: Verify OpenWrt UCI baseline
      ansible.builtin.include_role:
        name: openwrt/uci
        tasks_from: verify.yml

    - name: Verify Tailscale status
      ansible.builtin.include_role:
        name: openwrt/tailscale
        tasks_from: verify.yml
