services:
  github-runner:
    image: {{ github_runner_image }}
    container_name: {{ github_runner_container_name }}
    restart: unless-stopped
    environment:
      REPO_URL: {{ github_runner_url }}
      RUNNER_NAME: {{ github_runner_name }}
      RUNNER_TOKEN: {{ github_runner_registration_token }}
      RUNNER_LABELS: {{ github_runner_labels | join(',') }}
      RUNNER_WORKDIR: {{ github_runner_container_workdir }}
    volumes:
      - {{ github_runner_data_dir }}:{{ github_runner_container_data_dir }}
      - /var/run/docker.sock:/var/run/docker.sock
